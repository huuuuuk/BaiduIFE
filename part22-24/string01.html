<!DOCTYPE html>
<html lang="cn-zh">
    <head >
        <meta charset="utf-8">
        <title>字符串方法训练01</title>
    </head>
    <body>
        <div>
            <label>String A:
                <input id="radio-a" type="radio" checked="true" name="str-obj" value="a">
            </label>
            <textarea id="str-a"></textarea>
            <label>String B:
                <input id="radio-b" type="radio" name="str-obj" value="b">
            </label>
            <textarea id="str-b"></textarea>        
            <label>Num A：<input id="num-a" type="number" value="0"></label>
            <label>Num B：<input id="num-b" type="number" value="1"></label>
        </div>
        <div>
            <button>获取当前选中输入的内容长度</button>
            <button>当前选中输入中的第3个字符</button>
            <button>把两个输入框的文字连接在一起输出（concat）</button>
            <button>输入B中的内容，在输入A的内容中第一次出现的位置（indexOf）</button>
            <button>输入A中的内容，在输入B的内容中最后一次出现的位置（lastIndexOf）</button>
            <button>使用slice获取选中输入框内容的部分内容，参数为num-a及num-b</button>
            <button>当前选中输入框的行数</button>
            <button>使用substr获取选中输入框内容的子字符串，参数为num-a及num-b</button>
            <button>把所选输入框中的内容全部转为大写</button>
            <button>把所选输入框中的内容全部转为小写</button>
            <button>把所选输入框中内容的半角空格全部去除</button>
            <button>把所选输入框中内容的a全部替换成另外一个输入框中的内容</button>
        </div>
        <p id="result"></p>
        <script>
            var checka=document.querySelector("#radio-a");
            var checkb=document.querySelector("#radio-b");
            var numa=document.querySelector("#num-a");
            var numb=document.querySelector("#num-b");
            var texta= document.querySelector("#str-a");            
            var textb = document.querySelector("#str-b");
            var btn =document.querySelectorAll("button");    
            var result=document.querySelector("p");
            btn[0].addEventListener("click",function(){
                if(checka.checked===true){
                    result.innerHTML=texta.value.length;
                }else if(checkb.checked===true){
                    result.innerHTML=textb.value.length;
                }
            })     
            btn[1].addEventListener("click",function(){
                text1=texta.value;
                text2=textb.value;
                if(checka.checked===true){
                    len=text1.length;
                    if (len>3){
                        result.innerHTML=text1.charAt(3);
                    }
                }else if(checkb.checked===true){
                    len=text2.length;
                    if (len>3){
                        result.innerHTML=text2.charAt(3);
                    }
                }
            }) 
            btn[2].addEventListener("click",function(){
                text1=texta.value;
                text2=textb.value;
                result.innerHTML=text1.concat(text2);
            })  
            btn[3].addEventListener("click",function(){
                text1=texta.value;
                text2=textb.value;
                result.innerHTML=text1.indexOf(text2);
            })   
            btn[4].addEventListener("click",function(){
                text1=texta.value;
                text2=textb.value;
                result.innerHTML=text1.lastIndexOf(text2);
            })   
            btn[5].addEventListener("click",function(){
                text1=texta.value;
                text2=textb.value;
                num1=Math.max(Number(numa.value),Number(numb.value));
                
                num2=Math.min(Number(numa.value),Number(numb.value));
                
                if(checka.checked===true){
                    len=text1.length;
                    if (len>=num1){
                        result.innerHTML=text1.slice(num2,num1);
                    }
                }else if(checkb.checked===true){
                    len=text2.length;
                    if (len>num2-num1){
                        result.innerHTML=text2.slice(num2,num1);
                    }
                }
            }) 
            btn[6].addEventListener("click",function(){
                if(checka.checked===true){
                    text =texta.value;
                    if (text===""){
                        result.innerHTML=0;
                    }else if (text.includes("\n")){
                        arr = text.match(/\n/g);
                        console.log(arr);
                        num=arr.length+1;
                        result.innerHTML=num;
                    }else{
                        result.innerHTML=1;
                    }
                }else if(checkb.checked===true){
                    text =textb.value;
                    if (text===""){
                        result.innerHTML=0;
                    }else if (text.includes("\n")){
                        arr = text.match(/\n/g);
                        console.log(arr);
                        num=arr.length+1;
                        result.innerHTML=num;
                    }else  {
                        result.innerHTML=1;
                    }

                }
            })    
            btn[7].addEventListener("click",function(){
                num1=numa.value;
                num2=numb.value;
                if(checka.checked===true){
                    text=texta.value;
                    len=text.length;
                    if (len>=num1+num2){

                        result.innerHTML=text.substr(num1,num2);
                    }
                }else if(checkb.checked===true){
                    text=texta.value;
                    len=text.length;
                    if (len>=num1+num2){

                        result.innerHTML=text.substr(num1,num2);
                    }
                }
            }) 
            btn[8].addEventListener("click",function(){  
                if(checka.checked===true){
                    text=texta.value;
                    result.innerHTML=text.toUpperCase();
                   
                }else if(checkb.checked===true){
                    text=textb.value;
                    result.innerHTML=text.toUpperCase();
                    
                }
            }) 
            btn[9].addEventListener("click",function(){  
                if(checka.checked===true){
                    text=texta.value;
                    result.innerHTML=text.toLowerCase();
                   
                }else if(checkb.checked===true){
                    text=textb.value;
                    result.innerHTML=text.toLowerCase();
                    
                }
            }) 
            btn[10].addEventListener("click",function(){  
                
                if(checka.checked===true){
                    text=texta.value;
                    if (text.length===""){
                    
                    }else{
                    str = text.split(" ");
                    result.innerHTML=str.join("");
                    }
                }else if(checkb.checked===true){
                    text=textb.value;
                    if (text.length===""){
                    
                    }else{
                    str = text.split(" ");
                    result.innerHTML=str.join("");
                    }
                    
                }
            }) 
            btn[11].addEventListener("click",function(){
                text1=texta.value;
                text2=textb.value;
                if(checka.checked===true){
                    
                    
                    result.innerHTML=text1.replace(/a/g,text2)
                }else if(checkb.checked===true){
                    
                    result.innerHTML=text2.replace(/a/g,text1)
                    
                }
            })
        </script>
    </body>
</html>